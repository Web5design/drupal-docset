<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: InsertQuery Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">InsertQuery Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for InsertQuery:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_insert_query.png" usemap="#InsertQuery_map" alt=""/>
  <map id="InsertQuery_map" name="InsertQuery_map">
<area href="class_query.html" alt="Query" shape="rect" coords="176,56,342,80"/>
<area href="interface_query_placeholder_interface.html" alt="QueryPlaceholderInterface" shape="rect" coords="176,0,342,24"/>
<area href="class_insert_query__mysql.html" alt="InsertQuery_mysql" shape="rect" coords="0,168,166,192"/>
<area href="class_insert_query__pgsql.html" alt="InsertQuery_pgsql" shape="rect" coords="176,168,342,192"/>
<area href="class_insert_query__sqlite.html" alt="InsertQuery_sqlite" shape="rect" coords="352,168,518,192"/>
</map>
 </div></div>

<p><a href="class_insert_query-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2a5dd9afb005a1f14877a18dd3c3429d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_insert_query.html#a2a5dd9afb005a1f14877a18dd3c3429d">__construct</a> ($connection, $table, array $options=array())</td></tr>
<tr class="memitem:a80eebdf6db8f9b25998d68217fb9ba69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_insert_query.html#a80eebdf6db8f9b25998d68217fb9ba69">fields</a> (array $<a class="el" href="class_insert_query.html#a80eebdf6db8f9b25998d68217fb9ba69">fields</a>, array $<a class="el" href="class_insert_query.html#a7b248332d48bde48cfef6e18b1b6fb7c">values</a>=array())</td></tr>
<tr class="memitem:a7b248332d48bde48cfef6e18b1b6fb7c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_insert_query.html#a7b248332d48bde48cfef6e18b1b6fb7c">values</a> (array $<a class="el" href="class_insert_query.html#a7b248332d48bde48cfef6e18b1b6fb7c">values</a>)</td></tr>
<tr class="memitem:a5d584ac1930b6a791e0c5701d556cb65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_insert_query.html#a5d584ac1930b6a791e0c5701d556cb65">useDefaults</a> (array $<a class="el" href="class_insert_query.html#a80eebdf6db8f9b25998d68217fb9ba69">fields</a>)</td></tr>
<tr class="memitem:ad9ed6614e8443cfc515ef8b3e8031894"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_insert_query.html#ad9ed6614e8443cfc515ef8b3e8031894">from</a> (<a class="el" href="interface_select_query_interface.html">SelectQueryInterface</a> $query)</td></tr>
<tr class="memitem:a9bcd2f989e2ae0173bd6f58b6ede12fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_insert_query.html#a9bcd2f989e2ae0173bd6f58b6ede12fc">execute</a> ()</td></tr>
<tr class="memitem:a996fb0719632b8861284683c1ff711fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_insert_query.html#a996fb0719632b8861284683c1ff711fa">__toString</a> ()</td></tr>
<tr class="memitem:ae33303d3a1d2edf20a7d3f762a627a0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_insert_query.html#ae33303d3a1d2edf20a7d3f762a627a0a">preExecute</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a43d33012f33b9bc6067f5ccb247105ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43d33012f33b9bc6067f5ccb247105ca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$table</b></td></tr>
<tr class="memitem:af3562bbf40254228eb6392e8df1309dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3562bbf40254228eb6392e8df1309dd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$insertFields</b> = array()</td></tr>
<tr class="memitem:a20210a70db8be3c64046a958c3b0436b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20210a70db8be3c64046a958c3b0436b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$defaultFields</b> = array()</td></tr>
<tr class="memitem:acf0cf4f082daa5a451bdfbd27a471b2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf0cf4f082daa5a451bdfbd27a471b2c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$insertValues</b> = array()</td></tr>
<tr class="memitem:a82fee69eb0d2769190bf11edc8495e0e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82fee69eb0d2769190bf11edc8495e0e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$fromQuery</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>General class for an abstracted INSERT query. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2a5dd9afb005a1f14877a18dd3c3429d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_insert_query.html#a2a5dd9afb005a1f14877a18dd3c3429d">InsertQuery::__construct</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>options</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs an <a class="el" href="class_insert_query.html">InsertQuery</a> object.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_database_connection.html">DatabaseConnection</a></td><td class="paramname">$connection</td><td>A <a class="el" href="class_database_connection.html">DatabaseConnection</a> object. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>Name of the table to associate with this query. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>Array of database options. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a996fb0719632b8861284683c1ff711fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_insert_query.html#a996fb0719632b8861284683c1ff711fa">InsertQuery::__toString</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implements PHP magic __toString method to convert the query to a string.</p>
<dl class="section return"><dt>Returns:</dt><dd>string The prepared statement. </dd></dl>

<p>Reimplemented from <a class="el" href="class_query.html#a16c3a3265666b784d49ce18a6fda9a8a">Query</a>.</p>

<p>Reimplemented in <a class="el" href="class_insert_query__pgsql.html#a784c39f2e4fa911ecb893243fcb3ab91">InsertQuery_pgsql</a>, <a class="el" href="class_insert_query__mysql.html#ab941db654e7813130a9147c74bff0b38">InsertQuery_mysql</a>, and <a class="el" href="class_insert_query__sqlite.html#a67c0e3204921c1a8af4edc3fb60ba97c">InsertQuery_sqlite</a>.</p>

</div>
</div>
<a class="anchor" id="a9bcd2f989e2ae0173bd6f58b6ede12fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_insert_query.html#a9bcd2f989e2ae0173bd6f58b6ede12fc">InsertQuery::execute</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes the insert query.</p>
<dl class="section return"><dt>Returns:</dt><dd>The last insert ID of the query, if one exists. If the query was given multiple sets of values to insert, the return value is undefined. If no fields are specified, this method will do nothing and return NULL. That makes it safe to use in multi-insert loops. </dd></dl>

<p>Reimplemented from <a class="el" href="class_query.html#a9f2326187a94f3337a7838687b1e6929">Query</a>.</p>

<p>Reimplemented in <a class="el" href="class_insert_query__sqlite.html#a95e8f7db8b3517715f222bf958e39ab9">InsertQuery_sqlite</a>, <a class="el" href="class_insert_query__mysql.html#a52483727457029115fc127c562b47502">InsertQuery_mysql</a>, and <a class="el" href="class_insert_query__pgsql.html#a554ec18b9f8003d0252fa754ab9217d3">InsertQuery_pgsql</a>.</p>

</div>
</div>
<a class="anchor" id="a80eebdf6db8f9b25998d68217fb9ba69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_insert_query.html#a80eebdf6db8f9b25998d68217fb9ba69">InsertQuery::fields</a> </td>
          <td>(</td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>values</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a set of field-&gt;value pairs to be inserted.</p>
<p>This method may only be called once. Calling it a second time will be ignored. To queue up multiple sets of values to be inserted at once, use the <a class="el" href="class_insert_query.html#a7b248332d48bde48cfef6e18b1b6fb7c">values()</a> method.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fields</td><td>An array of fields on which to insert. This array may be indexed or associative. If indexed, the array is taken to be the list of fields. If associative, the keys of the array are taken to be the fields and the values are taken to be corresponding values to insert. If a $values argument is provided, $fields must be indexed. </td></tr>
    <tr><td class="paramname">$values</td><td>An array of fields to insert into the database. The values must be specified in the same order as the $fields array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="class_insert_query.html">InsertQuery</a> The called object. </dd></dl>

</div>
</div>
<a class="anchor" id="ad9ed6614e8443cfc515ef8b3e8031894"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_insert_query.html#ad9ed6614e8443cfc515ef8b3e8031894">InsertQuery::from</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_select_query_interface.html">SelectQueryInterface</a> $&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the fromQuery on this <a class="el" href="class_insert_query.html">InsertQuery</a> object.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="interface_select_query_interface.html">SelectQueryInterface</a></td><td class="paramname">$query</td><td>The query to fetch the rows that should be inserted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="class_insert_query.html">InsertQuery</a> The called object. </dd></dl>

</div>
</div>
<a class="anchor" id="ae33303d3a1d2edf20a7d3f762a627a0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_insert_query.html#ae33303d3a1d2edf20a7d3f762a627a0a">InsertQuery::preExecute</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Preprocesses and validates the query.</p>
<dl class="section return"><dt>Returns:</dt><dd>TRUE if the validation was successful, FALSE if not.</dd></dl>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_fields_overlap_exception.html">FieldsOverlapException</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="class_no_fields_exception.html">NoFieldsException</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5d584ac1930b6a791e0c5701d556cb65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_insert_query.html#a5d584ac1930b6a791e0c5701d556cb65">InsertQuery::useDefaults</a> </td>
          <td>(</td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Specifies fields for which the database defaults should be used.</p>
<p>If you want to force a given field to use the database-defined default, not NULL or undefined, use this method to instruct the database to use default values explicitly. In most cases this will not be necessary unless you are inserting a row that is all default values, as you cannot specify no values in an INSERT query.</p>
<p>Specifying a field both in <a class="el" href="class_insert_query.html#a80eebdf6db8f9b25998d68217fb9ba69">fields()</a> and in <a class="el" href="class_insert_query.html#a5d584ac1930b6a791e0c5701d556cb65">useDefaults()</a> is an error and will not execute.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$fields</td><td>An array of values for which to use the default values specified in the table definition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="class_insert_query.html">InsertQuery</a> The called object. </dd></dl>

</div>
</div>
<a class="anchor" id="a7b248332d48bde48cfef6e18b1b6fb7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_insert_query.html#a7b248332d48bde48cfef6e18b1b6fb7c">InsertQuery::values</a> </td>
          <td>(</td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>values</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds another set of values to the query to be inserted.</p>
<p>If $values is a numeric-keyed array, it will be assumed to be in the same order as the original <a class="el" href="class_insert_query.html#a80eebdf6db8f9b25998d68217fb9ba69">fields()</a> call. If it is associative, it may be in any order as long as the keys of the array match the names of the fields.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$values</td><td>An array of values to add to the query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="class_insert_query.html">InsertQuery</a> The called object. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>includes/database/<a class="el" href="query_8inc.html">query.inc</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:58 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
