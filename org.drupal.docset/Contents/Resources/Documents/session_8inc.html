<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: includes/session.inc File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">includes/session.inc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac8852f85f169dfbee885d44239a6048c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#ac8852f85f169dfbee885d44239a6048c">_drupal_session_open</a> ()</td></tr>
<tr class="memitem:a442fb2eb576d761183c100cdd1c078fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#a442fb2eb576d761183c100cdd1c078fd">_drupal_session_close</a> ()</td></tr>
<tr class="memitem:aeb991b6399401804bd0072e5ee6e4741"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#aeb991b6399401804bd0072e5ee6e4741">_drupal_session_read</a> ($sid)</td></tr>
<tr class="memitem:a4c7b4bd789e8a27c6c7078cb1a32f8f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#a4c7b4bd789e8a27c6c7078cb1a32f8f9">_drupal_session_write</a> ($sid, $value)</td></tr>
<tr class="memitem:a1ddf625160ae9e448b25ea74f9fa58d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#a1ddf625160ae9e448b25ea74f9fa58d0">drupal_session_initialize</a> ()</td></tr>
<tr class="memitem:gaef664546ab6308e639e0d6f6b363ae57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gaef664546ab6308e639e0d6f6b363ae57">drupal_session_start</a> ()</td></tr>
<tr class="memitem:ad6c0ee8cae83649ccfbc7f2eef268377"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#ad6c0ee8cae83649ccfbc7f2eef268377">drupal_session_commit</a> ()</td></tr>
<tr class="memitem:a4de15350e0f9d1786d59da6ea7ea7171"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#a4de15350e0f9d1786d59da6ea7ea7171">drupal_session_started</a> ($set=NULL)</td></tr>
<tr class="memitem:ga144f983d31722d56cef8cdf259d2f68f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga144f983d31722d56cef8cdf259d2f68f">drupal_session_regenerate</a> ()</td></tr>
<tr class="memitem:af8a3df8c027292c59745d5ce00025480"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#af8a3df8c027292c59745d5ce00025480">_drupal_session_destroy</a> ($sid)</td></tr>
<tr class="memitem:a8e37ac914709ebe5fd2a90a05ef9d07d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#a8e37ac914709ebe5fd2a90a05ef9d07d">_drupal_session_delete_cookie</a> ($name, $secure=NULL)</td></tr>
<tr class="memitem:a5ac41504673ec444e5e2d1aa1dc231f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#a5ac41504673ec444e5e2d1aa1dc231f8">drupal_session_destroy_uid</a> ($uid)</td></tr>
<tr class="memitem:a27392dffc0efaa15d678b516379eec99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#a27392dffc0efaa15d678b516379eec99">_drupal_session_garbage_collection</a> ($lifetime)</td></tr>
<tr class="memitem:a2e1c6443b96a7018027383ca39585ce7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="session_8inc.html#a2e1c6443b96a7018027383ca39585ce7">drupal_save_session</a> ($status=NULL)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>User session handling functions.</p>
<p>The user-level session storage handlers:</p>
<ul>
<li><a class="el" href="session_8inc.html#ac8852f85f169dfbee885d44239a6048c">_drupal_session_open()</a></li>
<li><a class="el" href="session_8inc.html#a442fb2eb576d761183c100cdd1c078fd">_drupal_session_close()</a></li>
<li><a class="el" href="session_8inc.html#aeb991b6399401804bd0072e5ee6e4741">_drupal_session_read()</a></li>
<li><a class="el" href="session_8inc.html#a4c7b4bd789e8a27c6c7078cb1a32f8f9">_drupal_session_write()</a></li>
<li><a class="el" href="session_8inc.html#af8a3df8c027292c59745d5ce00025480">_drupal_session_destroy()</a></li>
<li><a class="el" href="session_8inc.html#a27392dffc0efaa15d678b516379eec99">_drupal_session_garbage_collection()</a> are assigned by session_set_save_handler() in <a class="el" href="bootstrap_8inc.html">bootstrap.inc</a> and are called automatically by PHP. These functions should not be called directly. Session data should instead be accessed via the $_SESSION superglobal. </li>
</ul>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a442fb2eb576d761183c100cdd1c078fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#a442fb2eb576d761183c100cdd1c078fd">_drupal_session_close</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Session handler assigned by session_set_save_handler().</p>
<p>This function is used to close the current session. Because Drupal stores session data in the database immediately on write, this function does not need to do anything.</p>
<p>This function should not be called directly.</p>
<dl class="section return"><dt>Returns:</dt><dd>This function will always return TRUE. </dd></dl>

</div>
</div>
<a class="anchor" id="a8e37ac914709ebe5fd2a90a05ef9d07d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#a8e37ac914709ebe5fd2a90a05ef9d07d">_drupal_session_delete_cookie</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>secure</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deletes the session cookie.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$name</td><td>Name of session cookie to delete. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$secure</td><td>Force the secure value of the cookie. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af8a3df8c027292c59745d5ce00025480"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#af8a3df8c027292c59745d5ce00025480">_drupal_session_destroy</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Session handler assigned by session_set_save_handler().</p>
<p>Cleans up a specific session.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$sid</td><td>Session ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a27392dffc0efaa15d678b516379eec99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#a27392dffc0efaa15d678b516379eec99">_drupal_session_garbage_collection</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>lifetime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Session handler assigned by session_set_save_handler().</p>
<p>Cleans up stalled sessions.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$lifetime</td><td>The value of session.gc_maxlifetime, passed by PHP. Sessions not updated for more than $lifetime seconds will be removed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac8852f85f169dfbee885d44239a6048c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#ac8852f85f169dfbee885d44239a6048c">_drupal_session_open</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Session handler assigned by session_set_save_handler().</p>
<p>This function is used to handle any initialization, such as file paths or database connections, that is needed before accessing session data. Drupal does not need to initialize anything in this function.</p>
<p>This function should not be called directly.</p>
<dl class="section return"><dt>Returns:</dt><dd>This function will always return TRUE. </dd></dl>

</div>
</div>
<a class="anchor" id="aeb991b6399401804bd0072e5ee6e4741"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#aeb991b6399401804bd0072e5ee6e4741">_drupal_session_read</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads an entire session from the database (internal use only).</p>
<p>Also initializes the $user object for the user associated with the session. This function is registered with session_set_save_handler() to support database-backed sessions. It is called on every page load when PHP sets up the $_SESSION superglobal.</p>
<p>This function is an internal function and must not be called directly. Doing so may result in logging out the current user, corrupting session data or other unexpected behavior. Session data must always be accessed via the $_SESSION superglobal.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$sid</td><td>The session ID of the session to retrieve.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The user's session, or an empty string if no session exists. </dd></dl>

</div>
</div>
<a class="anchor" id="a4c7b4bd789e8a27c6c7078cb1a32f8f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#a4c7b4bd789e8a27c6c7078cb1a32f8f9">_drupal_session_write</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes an entire session to the database (internal use only).</p>
<p>This function is registered with session_set_save_handler() to support database-backed sessions.</p>
<p>This function is an internal function and must not be called directly. Doing so may result in corrupted session data or other unexpected behavior. Session data must always be accessed via the $_SESSION superglobal.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$sid</td><td>The session ID of the session to write to. </td></tr>
    <tr><td class="paramname">$value</td><td>Session data to write as a serialized string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Always returns TRUE. </dd></dl>

</div>
</div>
<a class="anchor" id="a2e1c6443b96a7018027383ca39585ce7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#a2e1c6443b96a7018027383ca39585ce7">drupal_save_session</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>status</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determines whether to save session data of the current request.</p>
<p>This function allows the caller to temporarily disable writing of session data, should the request end while performing potentially dangerous operations, such as manipulating the global $user object. See <a href="http://drupal.org/node/218104">http://drupal.org/node/218104</a> for usage.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$status</td><td>Disables writing of session data when FALSE, (re-)enables writing when TRUE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>FALSE if writing session data has been disabled. Otherwise, TRUE. </dd></dl>

</div>
</div>
<a class="anchor" id="ad6c0ee8cae83649ccfbc7f2eef268377"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#ad6c0ee8cae83649ccfbc7f2eef268377">drupal_session_commit</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commits the current session, if necessary.</p>
<p>If an anonymous user already have an empty session, destroy it. </p>

</div>
</div>
<a class="anchor" id="a5ac41504673ec444e5e2d1aa1dc231f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#a5ac41504673ec444e5e2d1aa1dc231f8">drupal_session_destroy_uid</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ends a specific user's session(s).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$uid</td><td>User ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1ddf625160ae9e448b25ea74f9fa58d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#a1ddf625160ae9e448b25ea74f9fa58d0">drupal_session_initialize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the session handler, starting a session if needed. </p>

</div>
</div>
<a class="anchor" id="a4de15350e0f9d1786d59da6ea7ea7171"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="session_8inc.html#a4de15350e0f9d1786d59da6ea7ea7171">drupal_session_started</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>set</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns whether a session has been started. </p>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:54 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
