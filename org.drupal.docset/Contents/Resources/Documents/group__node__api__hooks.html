<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: Node API Hooks</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Node API Hooks</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga66ea0473a9950dc961802e801e5042e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete</a> ($node)</td></tr>
<tr class="memitem:gad7e8c6941181366016058771ae841bc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gad7e8c6941181366016058771ae841bc9">hook_node_revision_delete</a> ($node)</td></tr>
<tr class="memitem:ga8b40dc62e46e5055c205d2a723dc3548"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert</a> ($node)</td></tr>
<tr class="memitem:gad48bb14b68ed38526029d1f7ac2d2de4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load</a> ($nodes, $types)</td></tr>
<tr class="memitem:ga4bbe7320bd52fc6183920c8be2d9d4f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare</a> ($node)</td></tr>
<tr class="memitem:ga8644320a0e04e3a503c99626d4223725"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga8644320a0e04e3a503c99626d4223725">hook_node_search_result</a> ($node)</td></tr>
<tr class="memitem:gab339b1a1ce0e235d4a9c5a05e410dcd6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave</a> ($node)</td></tr>
<tr class="memitem:gac66c767cc922fcbfdaf17252e5d87d9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update</a> ($node)</td></tr>
<tr class="memitem:gac8420f204c69a4dc641f4d809a870b05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gac8420f204c69a4dc641f4d809a870b05">hook_node_update_index</a> ($node)</td></tr>
<tr class="memitem:gad26227eaf0dd513134767a11be40ab1d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate</a> ($node, $form, &amp;$form_state)</td></tr>
<tr class="memitem:ga1b479b731ecb3f9eec0c92e3e1a8e01d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga1b479b731ecb3f9eec0c92e3e1a8e01d">hook_node_submit</a> ($node, $form, &amp;$form_state)</td></tr>
<tr class="memitem:ga475290ee8e81a2373ea17c512cc3f9a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view</a> ($node, $view_mode, $langcode)</td></tr>
<tr class="memitem:gad5ece824736be57bf0020af900398b94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter</a> (&amp;$build)</td></tr>
<tr class="memitem:ga3b6ad51d7815d1cdd093b0e0f350cbd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga3b6ad51d7815d1cdd093b0e0f350cbd0">hook_node_info</a> ()</td></tr>
<tr class="memitem:gaf7a28ce3230dc96833ea5338fd26f43c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gaf7a28ce3230dc96833ea5338fd26f43c">hook_ranking</a> ()</td></tr>
<tr class="memitem:ga8588d8a814e8aef059d9e0f842904b35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga8588d8a814e8aef059d9e0f842904b35">hook_delete</a> ($node)</td></tr>
<tr class="memitem:ga2dff6dd92802df6b776a4eeb0b1a737c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga2dff6dd92802df6b776a4eeb0b1a737c">hook_prepare</a> ($node)</td></tr>
<tr class="memitem:ga52618ef4643a60878dd5a76ff9bbff30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga52618ef4643a60878dd5a76ff9bbff30">hook_form</a> ($node, &amp;$form_state)</td></tr>
<tr class="memitem:ga3c6a28d33e07d3506e1eb99718ef4e39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert</a> ($node)</td></tr>
<tr class="memitem:ga49065b040d7fb3e02889eda6361dac34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load</a> ($nodes)</td></tr>
<tr class="memitem:gaf9c98e3839e9405df42b50c8cdfa9dca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gaf9c98e3839e9405df42b50c8cdfa9dca">hook_update</a> ($node)</td></tr>
<tr class="memitem:gacaf7cff104c642c28f76ce7ec5f33f40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gacaf7cff104c642c28f76ce7ec5f33f40">hook_validate</a> ($node, $form, &amp;$form_state)</td></tr>
<tr class="memitem:gab1f229603b5e0f2f9d9e2a3ab53dcbda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view</a> ($node, $view_mode)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Functions to define and modify content types.</p>
<p>Each content type is maintained by a primary module, which is either node.module (for content types created in the user interface) or the module that implements <a class="el" href="group__node__api__hooks.html#ga3b6ad51d7815d1cdd093b0e0f350cbd0">hook_node_info()</a> to define the content type.</p>
<p>During node operations (create, update, view, delete, etc.), there are several sets of hooks that get invoked to allow modules to modify the base node operation:</p>
<ul>
<li>Node-type-specific hooks: These hooks are only invoked on the primary module, using the "base" return component of <a class="el" href="group__node__api__hooks.html#ga3b6ad51d7815d1cdd093b0e0f350cbd0">hook_node_info()</a> as the function prefix. For example, poll.module defines the base for the Poll content type as "poll", so during creation of a poll node, <a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert()</a> is only invoked by calling poll_insert().</li>
<li>All-module hooks: This set of hooks is invoked on all implementing modules, to allow other modules to modify what the primary node module is doing. For example, <a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert()</a> is invoked on all modules when creating a poll node.</li>
<li>Field hooks: Hooks related to the fields attached to the node. These are invoked from the field operations functions described below, and can be either field-type-specific or all-module hooks.</li>
<li>Entity hooks: Generic hooks for "entity" operations. These are always invoked on all modules.</li>
</ul>
<p>Here is a list of the node and entity hooks that are invoked, field operations, and other steps that take place during node operations:</p>
<ul>
<li>Creating a new node (calling node_save() on a new node):<ul>
<li><a class="el" href="group__field__attach.html#ga8f3ecf532dc49f8aed138695489fc81d">field_attach_presave()</a></li>
<li><a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga1837f8059e89f6b0c00826f3e06e24f7">hook_entity_presave()</a> (all)</li>
<li>Node and revision records are written to the database</li>
<li><a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#gad7c37d577b97db5e0c182bc570ed7cf4">field_attach_insert()</a></li>
<li><a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga38882255a4252e0e87d77ecd9c75a0dd">hook_entity_insert()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga3fe7744d74446e40e9b9ad2a782b4269">hook_node_access_records()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga37c90bf0e1dccad0deefa368dd94cc83">hook_node_access_records_alter()</a> (all)</li>
</ul>
</li>
<li>Updating an existing node (calling node_save() on an existing node):<ul>
<li><a class="el" href="group__field__attach.html#ga8f3ecf532dc49f8aed138695489fc81d">field_attach_presave()</a></li>
<li><a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga1837f8059e89f6b0c00826f3e06e24f7">hook_entity_presave()</a> (all)</li>
<li>Node and revision records are written to the database</li>
<li><a class="el" href="group__node__api__hooks.html#gaf9c98e3839e9405df42b50c8cdfa9dca">hook_update()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#ga8d15efdca36306ea04552bed4986e77b">field_attach_update()</a></li>
<li><a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga4b7c83c8b2e4f3719327ae794d0964ef">hook_entity_update()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga3fe7744d74446e40e9b9ad2a782b4269">hook_node_access_records()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga37c90bf0e1dccad0deefa368dd94cc83">hook_node_access_records_alter()</a> (all)</li>
</ul>
</li>
<li>Loading a node (calling node_load(), node_load_multiple(), or <a class="el" href="common_8inc.html#a78b89cf93f9710a68d02f86adccf1898">entity_load()</a> with $entity_type of 'node'):<ul>
<li>Node and revision information is read from database.</li>
<li><a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#gac79dd0f29910835c653b068233fa429b">field_attach_load_revision()</a> and <a class="el" href="group__field__attach.html#ga1e92543395961c912eb293b50e991586">field_attach_load()</a></li>
<li><a class="el" href="group__hooks.html#ga1f594647c8cbb27f75b77cc4118da8d6">hook_entity_load()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load()</a> (all)</li>
</ul>
</li>
<li>Viewing a single node (calling node_view() - note that the input to node_view() is a loaded node, so the Loading steps above are already done):<ul>
<li><a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#ga8531cd5f033e885a69b555d8521a71a4">field_attach_prepare_view()</a></li>
<li><a class="el" href="group__hooks.html#ga7e60ef817e60b20497bda315d2f30163">hook_entity_prepare_view()</a> (all)</li>
<li><a class="el" href="group__field__attach.html#ga6d5ce721bf25a4ff9e15cbecac0f8cf5">field_attach_view()</a></li>
<li><a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a> (all)</li>
<li><a class="el" href="group__hooks.html#gae273ba271c2ef1192fe135afa9da5d49">hook_entity_view()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga2c2be6c70815b426f0eb13b0b68edb40">hook_entity_view_alter()</a> (all)</li>
</ul>
</li>
<li>Viewing multiple nodes (calling node_view_multiple() - note that the input to node_view_multiple() is a set of loaded nodes, so the Loading steps above are already done):<ul>
<li><a class="el" href="group__field__attach.html#ga8531cd5f033e885a69b555d8521a71a4">field_attach_prepare_view()</a></li>
<li><a class="el" href="group__hooks.html#ga7e60ef817e60b20497bda315d2f30163">hook_entity_prepare_view()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#ga6d5ce721bf25a4ff9e15cbecac0f8cf5">field_attach_view()</a></li>
<li><a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a> (all)</li>
<li><a class="el" href="group__hooks.html#gae273ba271c2ef1192fe135afa9da5d49">hook_entity_view()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter()</a> (all)</li>
<li><a class="el" href="group__hooks.html#ga2c2be6c70815b426f0eb13b0b68edb40">hook_entity_view_alter()</a> (all)</li>
</ul>
</li>
<li>Deleting a node (calling node_delete() or node_delete_multiple()):<ul>
<li>Node is loaded (see Loading section above)</li>
<li><a class="el" href="group__node__api__hooks.html#ga8588d8a814e8aef059d9e0f842904b35">hook_delete()</a> (node-type-specific)</li>
<li><a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete()</a> (all)</li>
<li><a class="el" href="group__hooks.html#gac329b7f9d18e7fbccb6057e6f4bc4cb9">hook_entity_delete()</a> (all)</li>
<li><a class="el" href="group__field__attach.html#gac2e3658c9c02d0d0e71359f9ef2f207a">field_attach_delete()</a></li>
<li>Node and revision information are deleted from database</li>
</ul>
</li>
<li>Deleting a node revision (calling node_revision_delete()):<ul>
<li>Node is loaded (see Loading section above)</li>
<li>Revision information is deleted from database</li>
<li><a class="el" href="group__node__api__hooks.html#gad7e8c6941181366016058771ae841bc9">hook_node_revision_delete()</a> (all)</li>
<li><a class="el" href="group__field__attach.html#gaa9eae65e6d9f1996cb27a55ba25b56e9">field_attach_delete_revision()</a></li>
</ul>
</li>
<li>Preparing a node for editing (calling <a class="el" href="node_8pages_8inc.html#a267299500e205db099ee4e8396769d3f">node_form()</a> - note that if it's an existing node, it will already be loaded; see the Loading section above):<ul>
<li><a class="el" href="group__node__api__hooks.html#ga2dff6dd92802df6b776a4eeb0b1a737c">hook_prepare()</a> (node-type-specific)</li>
<li><a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare()</a> (all)</li>
<li><a class="el" href="group__node__api__hooks.html#ga52618ef4643a60878dd5a76ff9bbff30">hook_form()</a> (node-type-specific)</li>
<li><a class="el" href="group__field__attach.html#ga5be616bb085356119e2f486979909057">field_attach_form()</a></li>
</ul>
</li>
<li>Validating a node during editing form submit (calling node_form_validate()):<ul>
<li><a class="el" href="group__node__api__hooks.html#gacaf7cff104c642c28f76ce7ec5f33f40">hook_validate()</a> (node-type-specific)</li>
<li><a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate()</a> (all)</li>
<li><a class="el" href="group__field__attach.html#ga7022bc10190e16fd43dee82850473dbf">field_attach_form_validate()</a></li>
</ul>
</li>
<li>Searching (calling node_search_execute()):<ul>
<li><a class="el" href="group__node__api__hooks.html#gaf7a28ce3230dc96833ea5338fd26f43c">hook_ranking()</a> (all)</li>
<li><a class="el" href="class_query.html">Query</a> is executed to find matching nodes</li>
<li>Resulting node is loaded (see Loading section above)</li>
<li>Resulting node is prepared for viewing (see Viewing a single node above)</li>
<li>comment_node_update_index() is called.</li>
<li><a class="el" href="group__node__api__hooks.html#ga8644320a0e04e3a503c99626d4223725">hook_node_search_result()</a> (all)</li>
</ul>
</li>
<li>Search indexing (calling node_update_index()):<ul>
<li>Node is loaded (see Loading section above)</li>
<li>Node is prepared for viewing (see Viewing a single node above)</li>
<li><a class="el" href="group__node__api__hooks.html#gac8420f204c69a4dc641f4d809a870b05">hook_node_update_index()</a> (all) </li>
</ul>
</li>
</ul>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga8588d8a814e8aef059d9e0f842904b35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga8588d8a814e8aef059d9e0f842904b35">hook_delete</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to node deletion.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete()</a> to respond to all node deletions).</p>
<p>This hook is invoked from node_delete_multiple() after the node has been removed from the node table in the database, before <a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete()</a> is invoked, and before <a class="el" href="group__field__attach.html#gac2e3658c9c02d0d0e71359f9ef2f207a">field_attach_delete()</a> is called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is being deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga52618ef4643a60878dd5a76ff9bbff30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga52618ef4643a60878dd5a76ff9bbff30">hook_form</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Display a node editing form.</p>
<p>This hook, implemented by node modules, is called to retrieve the form that is displayed to create or edit a node. This form is displayed at path node/add/[node type] or node/[node ID]/edit.</p>
<p>The submit and preview buttons, administrative and display controls, and sections added by other modules (such as path settings, menu settings, comment settings, and fields managed by the Field UI module) are displayed automatically by the node module. This hook just needs to return the node title and form editing fields specific to the node type.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node being added or edited. </td></tr>
    <tr><td class="paramname">$form_state</td><td>The form state array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>An array containing the title and any custom form elements to be displayed in the node editing form. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3c6a28d33e07d3506e1eb99718ef4e39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to creation of a new node.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert()</a> to act on all node insertions).</p>
<p>This hook is invoked from node_save() after the node is inserted into the node table in the database, before <a class="el" href="group__field__attach.html#gad7c37d577b97db5e0c182bc570ed7cf4">field_attach_insert()</a> is called, and before <a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert()</a> is invoked.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is being created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga49065b040d7fb3e02889eda6361dac34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>nodes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on nodes being loaded from the database.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load()</a> to respond to all node loads).</p>
<p>This hook is invoked during node loading, which is handled by <a class="el" href="common_8inc.html#a78b89cf93f9710a68d02f86adccf1898">entity_load()</a>, via classes NodeController and <a class="el" href="class_drupal_default_entity_controller.html">DrupalDefaultEntityController</a>. After the node information is read from the database or the entity cache, <a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load()</a> is invoked on the node's content type module, then field_attach_node_revision() or <a class="el" href="group__field__attach.html#ga1e92543395961c912eb293b50e991586">field_attach_load()</a> is called, then <a class="el" href="group__hooks.html#ga1f594647c8cbb27f75b77cc4118da8d6">hook_entity_load()</a> is invoked on all implementing modules, and finally <a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load()</a> is invoked on all implementing modules.</p>
<p>This hook should only be used to add information that is not in the node or node revisions table, not to replace information that is in these tables (which could interfere with the entity cache). For performance reasons, information for all available nodes should be loaded in a single query where possible.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$nodes</td><td>An array of the nodes being loaded, keyed by nid.</td></tr>
  </table>
  </dd>
</dl>
<p>For a detailed usage example, see node_example.module. </p>

</div>
</div>
<a class="anchor" id="ga66ea0473a9950dc961802e801e5042e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga66ea0473a9950dc961802e801e5042e9">hook_node_delete</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to node deletion.</p>
<p>This hook is invoked from node_delete_multiple() after the type-specific <a class="el" href="group__node__api__hooks.html#ga8588d8a814e8aef059d9e0f842904b35">hook_delete()</a> has been invoked, but before hook_entity_delete and <a class="el" href="group__field__attach.html#gac2e3658c9c02d0d0e71359f9ef2f207a">field_attach_delete()</a> are called, and before the node is removed from the node table in the database.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is being deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3b6ad51d7815d1cdd093b0e0f350cbd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga3b6ad51d7815d1cdd093b0e0f350cbd0">hook_node_info</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Define module-provided node types.</p>
<p>This hook allows a module to define one or more of its own node types. For example, the blog module uses it to define a blog node-type named "Blog
 entry." The name and attributes of each desired node type are specified in an array returned by the hook.</p>
<p>Only module-provided node types should be defined through this hook. User- provided (or 'custom') node types should be defined only in the 'node_type' database table, and should be maintained by using the node_type_save() and node_type_delete() functions.</p>
<dl class="section return"><dt>Returns:</dt><dd>An array of information defining the module's node types. The array contains a sub-array for each node type, with the machine-readable type name as the key. Each sub-array has up to 10 attributes. Possible attributes:<ul>
<li>"name": the human-readable name of the node type. Required.</li>
<li>"base": the base string used to construct callbacks corresponding to this node type. (i.e. if base is defined as example_foo, then example_foo_insert will be called when inserting a node of that type). This string is usually the name of the module, but not always. Required.</li>
<li>"description": a brief description of the node type. Required.</li>
<li>"help": help information shown to the user when creating a node of this type.. Optional (defaults to '').</li>
<li>"has_title": boolean indicating whether or not this node type has a title field. Optional (defaults to TRUE).</li>
<li>"title_label": the label for the title field of this content type. Optional (defaults to 'Title').</li>
<li>"locked": boolean indicating whether the administrator can change the machine name of this type. FALSE = changeable (not locked), TRUE = unchangeable (locked). Optional (defaults to TRUE).</li>
</ul>
</dd></dl>
<p>The machine name of a node type should contain only letters, numbers, and underscores. Underscores will be converted into hyphens for the purpose of constructing URLs.</p>
<p>All attributes of a node type that are defined through this hook (except for 'locked') can be edited by a site administrator. This includes the machine-readable name of a node type, if 'locked' is set to FALSE. </p>

</div>
</div>
<a class="anchor" id="ga8b40dc62e46e5055c205d2a723dc3548"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga8b40dc62e46e5055c205d2a723dc3548">hook_node_insert</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to creation of a new node.</p>
<p>This hook is invoked from node_save() after the node is inserted into the node table in the database, after the type-specific <a class="el" href="group__node__api__hooks.html#ga3c6a28d33e07d3506e1eb99718ef4e39">hook_insert()</a> is invoked, and after <a class="el" href="group__field__attach.html#gad7c37d577b97db5e0c182bc570ed7cf4">field_attach_insert()</a> is called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is being created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad48bb14b68ed38526029d1f7ac2d2de4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>types</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on nodes being loaded from the database.</p>
<p>This hook is invoked during node loading, which is handled by <a class="el" href="common_8inc.html#a78b89cf93f9710a68d02f86adccf1898">entity_load()</a>, via classes NodeController and <a class="el" href="class_drupal_default_entity_controller.html">DrupalDefaultEntityController</a>. After the node information is read from the database or the entity cache, <a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load()</a> is invoked on the node's content type module, then field_attach_node_revision() or <a class="el" href="group__field__attach.html#ga1e92543395961c912eb293b50e991586">field_attach_load()</a> is called, then <a class="el" href="group__hooks.html#ga1f594647c8cbb27f75b77cc4118da8d6">hook_entity_load()</a> is invoked on all implementing modules, and finally <a class="el" href="group__node__api__hooks.html#gad48bb14b68ed38526029d1f7ac2d2de4">hook_node_load()</a> is invoked on all implementing modules.</p>
<p>This hook should only be used to add information that is not in the node or node revisions table, not to replace information that is in these tables (which could interfere with the entity cache). For performance reasons, information for all available nodes should be loaded in a single query where possible.</p>
<p>The $types parameter allows for your module to have an early return (for efficiency) if your module only supports certain node types. However, if your module defines a content type, you can use <a class="el" href="group__node__api__hooks.html#ga49065b040d7fb3e02889eda6361dac34">hook_load()</a> to respond to loading of just that content type.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$nodes</td><td>An array of the nodes being loaded, keyed by nid. </td></tr>
    <tr><td class="paramname">$types</td><td>An array containing the types of the nodes.</td></tr>
  </table>
  </dd>
</dl>
<p>For a detailed usage example, see nodeapi_example.module. </p>

</div>
</div>
<a class="anchor" id="ga4bbe7320bd52fc6183920c8be2d9d4f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node object about to be shown on the add/edit form.</p>
<p>This hook is invoked from node_object_prepare() after the type-specific <a class="el" href="group__node__api__hooks.html#ga2dff6dd92802df6b776a4eeb0b1a737c">hook_prepare()</a> is invoked.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is about to be shown on the add/edit form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab339b1a1ce0e235d4a9c5a05e410dcd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node being inserted or updated.</p>
<p>This hook is invoked from node_save() before the node is saved to the database.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is being inserted or updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad7e8c6941181366016058771ae841bc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gad7e8c6941181366016058771ae841bc9">hook_node_revision_delete</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to deletion of a node revision.</p>
<p>This hook is invoked from node_revision_delete() after the revision has been removed from the node_revision table, and before <a class="el" href="group__field__attach.html#gaa9eae65e6d9f1996cb27a55ba25b56e9">field_attach_delete_revision()</a> is called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node revision (node object) that is being deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8644320a0e04e3a503c99626d4223725"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga8644320a0e04e3a503c99626d4223725">hook_node_search_result</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node being displayed as a search result.</p>
<p>This hook is invoked from node_search_execute(), after node_load() and node_view() have been called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node being displayed in a search result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array Extra information to be displayed with search result. This information should be presented as an associative array. It will be concatenated with the post information (last updated, author) in the default search result theming.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="search_8pages_8inc.html#a45d5ee9444aba311056f3949e503b426">template_preprocess_search_result()</a> </dd>
<dd>
<a class="el" href="search-result_8tpl_8php.html">search-result.tpl.php</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga1b479b731ecb3f9eec0c92e3e1a8e01d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga1b479b731ecb3f9eec0c92e3e1a8e01d">hook_node_submit</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node after validated form values have been copied to it.</p>
<p>This hook is invoked when a node form is submitted with either the "Save" or "Preview" button, after form values have been copied to the form state's node object, but before the node is saved or previewed. It is a chance for modules to adjust the node's properties from what they are simply after a copy from $form_state['values']. This hook is intended for adjusting non-field-related properties. See <a class="el" href="group__field__attach.html#ga368ea58ca800b1e1f69f4b88e82f9ae0">hook_field_attach_submit()</a> for customizing field-related properties.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node object being updated in response to a form submission. </td></tr>
    <tr><td class="paramname">$form</td><td>The form being used to edit the node. </td></tr>
    <tr><td class="paramname">$form_state</td><td>The form state array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac66c767cc922fcbfdaf17252e5d87d9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to updates to a node.</p>
<p>This hook is invoked from node_save() after the node is updated in the node table in the database, after the type-specific <a class="el" href="group__node__api__hooks.html#gaf9c98e3839e9405df42b50c8cdfa9dca">hook_update()</a> is invoked, and after <a class="el" href="group__field__attach.html#ga8d15efdca36306ea04552bed4986e77b">field_attach_update()</a> is called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is being updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac8420f204c69a4dc641f4d809a870b05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gac8420f204c69a4dc641f4d809a870b05">hook_node_update_index</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node being indexed for searching.</p>
<p>This hook is invoked during search indexing, after node_load(), and after the result of node_view() is added as $node-&gt;rendered to the node object.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node being indexed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>string Additional node information to be indexed. </dd></dl>

</div>
</div>
<a class="anchor" id="gad26227eaf0dd513134767a11be40ab1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform node validation before a node is created or updated.</p>
<p>This hook is invoked from node_validate(), after a user has has finished editing the node and is previewing or submitting it. It is invoked at the end of all the standard validation steps, and after the type-specific <a class="el" href="group__node__api__hooks.html#gacaf7cff104c642c28f76ce7ec5f33f40">hook_validate()</a> is invoked.</p>
<p>To indicate a validation error, use <a class="el" href="group__form__api.html#ga6f4ecbec42e905390e521b393417f97f">form_set_error()</a>.</p>
<p>Note: Changes made to the $node object within your hook implementation will have no effect. The preferred method to change a node's content is to use <a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave()</a> instead. If it is really necessary to change the node at the validate stage, you can use <a class="el" href="group__form__api.html#ga2a377a1fcccea79d06d1a735dea433f3">form_set_value()</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node being validated. </td></tr>
    <tr><td class="paramname">$form</td><td>The form being used to edit the node. </td></tr>
    <tr><td class="paramname">$form_state</td><td>The form state array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga475290ee8e81a2373ea17c512cc3f9a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>view_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>langcode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node that is being assembled before rendering.</p>
<p>The module may add elements to $node-&gt;content prior to rendering. This hook will be called after <a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view()</a>. The structure of $node-&gt;content is a renderable array as expected by <a class="el" href="common_8inc.html#a05798b44e8d6c496d4bee5cc32fa7851">drupal_render()</a>.</p>
<p>When $view_mode is 'rss', modules can also add extra RSS elements and namespaces to $node-&gt;rss_elements and $node-&gt;rss_namespaces respectively for the RSS item generated for this node. For details on how this is used, see node_feed().</p>
<dl class="section see"><dt>See also:</dt><dd>blog_node_view() </dd>
<dd>
forum_node_view() </dd>
<dd>
comment_node_view()</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is being assembled for rendering. </td></tr>
    <tr><td class="paramname">$view_mode</td><td>The $view_mode parameter from node_view(). </td></tr>
    <tr><td class="paramname">$langcode</td><td>The language code used for rendering.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__hooks.html#gae273ba271c2ef1192fe135afa9da5d49">hook_entity_view()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gad5ece824736be57bf0020af900398b94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>build</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Alter the results of node_view().</p>
<p>This hook is called after the content has been assembled in a structured array and may be used for doing processing which requires that the complete node content structure has been built.</p>
<p>If the module wishes to act on the rendered HTML of the node rather than the structured content array, it may use this hook to add a #post_render callback. Alternatively, it could also implement hook_preprocess_node(). See <a class="el" href="common_8inc.html#a05798b44e8d6c496d4bee5cc32fa7851">drupal_render()</a> and <a class="el" href="theme_8inc.html#a7c25609a935874541a19657affd30fff">theme()</a> documentation respectively for details.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$build</td><td>A renderable array representing the node content.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd>node_view() </dd>
<dd>
<a class="el" href="group__hooks.html#ga2c2be6c70815b426f0eb13b0b68edb40">hook_entity_view_alter()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga2dff6dd92802df6b776a4eeb0b1a737c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#ga2dff6dd92802df6b776a4eeb0b1a737c">hook_prepare</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Act on a node object about to be shown on the add/edit form.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare()</a> to act on all node preparations).</p>
<p>This hook is invoked from node_object_prepare() before the general <a class="el" href="group__node__api__hooks.html#ga4bbe7320bd52fc6183920c8be2d9d4f6">hook_node_prepare()</a> is invoked.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is about to be shown on the add/edit form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf7a28ce3230dc96833ea5338fd26f43c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gaf7a28ce3230dc96833ea5338fd26f43c">hook_ranking</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Provide additional methods of scoring for core search results for nodes.</p>
<p>A node's search score is used to rank it among other nodes matched by the search, with the highest-ranked nodes appearing first in the search listing.</p>
<p>For example, a module allowing users to vote on content could expose an option to allow search results' rankings to be influenced by the average voting score of a node.</p>
<p>All scoring mechanisms are provided as options to site administrators, and may be tweaked based on individual sites or disabled altogether if they do not make sense. Individual scoring mechanisms, if enabled, are assigned a weight from 1 to 10. The weight represents the factor of magnification of the ranking mechanism, with higher-weighted ranking mechanisms having more influence. In order for the weight system to work, each scoring mechanism must return a value between 0 and 1 for every node. That value is then multiplied by the administrator-assigned weight for the ranking mechanism, and then the weighted scores from all ranking mechanisms are added, which brings about the same result as a weighted average.</p>
<dl class="section return"><dt>Returns:</dt><dd>An associative array of ranking data. The keys should be strings, corresponding to the internal name of the ranking mechanism, such as 'recent', or 'comments'. The values should be arrays themselves, with the following keys available:<ul>
<li>"title": the human readable name of the ranking mechanism. Required.</li>
<li>"join": part of a query string to join to any additional necessary table. This is not necessary if the table required is already joined to by the base query, such as for the {node} table. Other tables should use the full table name as an alias to avoid naming collisions. Optional.</li>
<li>"score": part of a query string to calculate the score for the ranking mechanism based on values in the database. This does not need to be wrapped in parentheses, as it will be done automatically; it also does not need to take the weighted system into account, as it will be done automatically. It does, however, need to calculate a decimal between 0 and 1; be careful not to cast the entire score to an integer by inadvertently introducing a variable argument. Required.</li>
<li>"arguments": if any arguments are required for the score, they can be specified in an array here. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gaf9c98e3839e9405df42b50c8cdfa9dca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gaf9c98e3839e9405df42b50c8cdfa9dca">hook_update</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Respond to updates to a node.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update()</a> to act on all node updates).</p>
<p>This hook is invoked from node_save() after the node is updated in the node table in the database, before <a class="el" href="group__field__attach.html#ga8d15efdca36306ea04552bed4986e77b">field_attach_update()</a> is called, and before <a class="el" href="group__node__api__hooks.html#gac66c767cc922fcbfdaf17252e5d87d9d">hook_node_update()</a> is invoked.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node that is being updated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacaf7cff104c642c28f76ce7ec5f33f40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gacaf7cff104c642c28f76ce7ec5f33f40">hook_validate</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform node validation before a node is created or updated.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate()</a> to act on all node validations).</p>
<p>This hook is invoked from node_validate(), after a user has finished editing the node and is previewing or submitting it. It is invoked at the end of all the standard validation steps, and before <a class="el" href="group__node__api__hooks.html#gad26227eaf0dd513134767a11be40ab1d">hook_node_validate()</a> is invoked.</p>
<p>To indicate a validation error, use <a class="el" href="group__form__api.html#ga6f4ecbec42e905390e521b393417f97f">form_set_error()</a>.</p>
<p>Note: Changes made to the $node object within your hook implementation will have no effect. The preferred method to change a node's content is to use <a class="el" href="group__node__api__hooks.html#gab339b1a1ce0e235d4a9c5a05e410dcd6">hook_node_presave()</a> instead.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node being validated. </td></tr>
    <tr><td class="paramname">$form</td><td>The form being used to edit the node. </td></tr>
    <tr><td class="paramname">$form_state</td><td>The form state array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab1f229603b5e0f2f9d9e2a3ab53dcbda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__node__api__hooks.html#gab1f229603b5e0f2f9d9e2a3ab53dcbda">hook_view</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>view_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Display a node.</p>
<p>This hook is invoked only on the module that defines the node's content type (use <a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a> to act on all node views).</p>
<p>This hook is invoked during node viewing after the node is fully loaded, so that the node type module can define a custom method for display, or add to the default display.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$node</td><td>The node to be displayed, as returned by node_load(). </td></tr>
    <tr><td class="paramname">$view_mode</td><td>View mode, e.g. 'full', 'teaser', ... </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>$node. The passed $node parameter should be modified as necessary and returned so it can be properly presented. Nodes are prepared for display by assembling a structured array, formatted as in the Form API, in $node-&gt;content. As with Form API arrays, the #weight property can be used to control the relative positions of added elements. After this hook is invoked, node_view() calls <a class="el" href="group__field__attach.html#ga6d5ce721bf25a4ff9e15cbecac0f8cf5">field_attach_view()</a> to add field views to $node-&gt;content, and then invokes <a class="el" href="group__node__api__hooks.html#ga475290ee8e81a2373ea17c512cc3f9a9">hook_node_view()</a> and <a class="el" href="group__node__api__hooks.html#gad5ece824736be57bf0020af900398b94">hook_node_view_alter()</a>, so if you want to affect the final view of the node, you might consider implementing one of these hooks instead. </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:56 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
