<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: modules/update/update.manager.inc File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">modules/update/update.manager.inc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0fa2e185b0bcbac10f995d964a199c65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#ga0fa2e185b0bcbac10f995d964a199c65">update_manager_update_form</a> ($form, $form_state=array(), $context)</td></tr>
<tr class="memitem:gabb2fc045b955c164831ddb609f8720c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__themeable.html#gabb2fc045b955c164831ddb609f8720c7">theme_update_manager_update_form</a> ($variables)</td></tr>
<tr class="memitem:ga578871dbee92e6bcb2f48ba232554c27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#ga578871dbee92e6bcb2f48ba232554c27">update_manager_update_form_validate</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:gaec3a60b324711da2e658cf10d9b85447"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#gaec3a60b324711da2e658cf10d9b85447">update_manager_update_form_submit</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:ga50343ba82d02305076486ec30c543f1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#ga50343ba82d02305076486ec30c543f1f">update_manager_download_batch_finished</a> ($success, $results)</td></tr>
<tr class="memitem:gab1105c1314e1bd8822eef3cb16f78b26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#gab1105c1314e1bd8822eef3cb16f78b26">update_manager_update_ready_form</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:gaeab4690bf95cb0d0b517a0b9161e5045"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#gaeab4690bf95cb0d0b517a0b9161e5045">update_manager_update_ready_form_submit</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:ga5905518e0d54228827271f90dcd8c5c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__install.html#ga5905518e0d54228827271f90dcd8c5c3">update_manager_install_form</a> ($form, &amp;$form_state, $context)</td></tr>
<tr class="memitem:gad9962bc5fd3a9c0eb86cb469d247d7dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__install.html#gad9962bc5fd3a9c0eb86cb469d247d7dc">_update_manager_check_backends</a> (&amp;$form, $operation)</td></tr>
<tr class="memitem:ga56ab9860e1bc481b261a24c6ef480f75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__install.html#ga56ab9860e1bc481b261a24c6ef480f75">update_manager_install_form_validate</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:ga52e9f2cddddddccf921284b01f9505b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__install.html#ga52e9f2cddddddccf921284b01f9505b0">update_manager_install_form_submit</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:gaacbdc92035b1bb68dbb741a4917b8185"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__file.html#gaacbdc92035b1bb68dbb741a4917b8185">update_manager_archive_extract</a> ($file, $directory)</td></tr>
<tr class="memitem:ga8c352241e56ce6de6b1064725d84801b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__file.html#ga8c352241e56ce6de6b1064725d84801b">update_manager_archive_verify</a> ($project, $archive_file, $directory)</td></tr>
<tr class="memitem:gaef701662a2b3a2bfff2c0b819860a547"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__file.html#gaef701662a2b3a2bfff2c0b819860a547">update_manager_file_get</a> ($<a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url</a>)</td></tr>
<tr class="memitem:gad7fdbc7766b87956b181eb5fbec9a609"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__file.html#gad7fdbc7766b87956b181eb5fbec9a609">update_manager_batch_project_get</a> ($project, $<a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url</a>, &amp;$context)</td></tr>
<tr class="memitem:ga88ed61885931bd3df617ca78b4fadb6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__file.html#ga88ed61885931bd3df617ca78b4fadb6c">update_manager_local_transfers_allowed</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Administrative screens and processing functions for the update manager. This allows site administrators with the 'administer software updates' permission to either upgrade existing projects, or download and install new ones, so long as the killswitch setting ('allow_authorize_operations') is still TRUE.</p>
<p>To install new code, the administrator is prompted for either the URL of an archive file, or to directly upload the archive file. The archive is loaded into a temporary location, extracted, and verified. If everything is successful, the user is redirected to <a class="el" href="authorize_8php.html">authorize.php</a> to type in their file transfer credentials and authorize the installation to proceed with elevated privileges, such that the extracted files can be copied out of the temporary location and into the live web root.</p>
<p>Updating existing code is a more elaborate process. The first step is a selection form where the user is presented with a table of installed projects that are missing newer releases. The user selects which projects they wish to upgrade, and presses the "Download updates" button to continue. This sets up a batch to fetch all the selected releases, and redirects to admin/update/download to display the batch progress bar as it runs. Each batch operation is responsible for downloading a single file, extracting the archive, and verifying the contents. If there are any errors, the user is redirected back to the first page with the error messages. If all downloads were extacted and verified, the user is instead redirected to admin/update/ready, a landing page which reminds them to backup their database and asks if they want to put the site offline during the upgrade. Once the user presses the "Install updates" button, they are redirected to <a class="el" href="authorize_8php.html">authorize.php</a> to supply their web root file access credentials. The authorized operation (which lives in <a class="el" href="update_8authorize_8inc.html">update.authorize.inc</a>) sets up a batch to copy each extracted update from the temporary location into the live web root. </p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:55 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
