<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: Update manager: update</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Update manager: update</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0fa2e185b0bcbac10f995d964a199c65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#ga0fa2e185b0bcbac10f995d964a199c65">update_manager_update_form</a> ($form, $form_state=array(), $context)</td></tr>
<tr class="memitem:ga578871dbee92e6bcb2f48ba232554c27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#ga578871dbee92e6bcb2f48ba232554c27">update_manager_update_form_validate</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:gaec3a60b324711da2e658cf10d9b85447"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#gaec3a60b324711da2e658cf10d9b85447">update_manager_update_form_submit</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:ga50343ba82d02305076486ec30c543f1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#ga50343ba82d02305076486ec30c543f1f">update_manager_download_batch_finished</a> ($success, $results)</td></tr>
<tr class="memitem:gab1105c1314e1bd8822eef3cb16f78b26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#gab1105c1314e1bd8822eef3cb16f78b26">update_manager_update_ready_form</a> ($form, &amp;$form_state)</td></tr>
<tr class="memitem:gaeab4690bf95cb0d0b517a0b9161e5045"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__update__manager__update.html#gaeab4690bf95cb0d0b517a0b9161e5045">update_manager_update_ready_form_submit</a> ($form, &amp;$form_state)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Update manager for updating existing code.</p>
<p>Provides a user interface to update existing code. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga50343ba82d02305076486ec30c543f1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__update__manager__update.html#ga50343ba82d02305076486ec30c543f1f">update_manager_download_batch_finished</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Batch callback invoked when the download batch is completed. </p>

</div>
</div>
<a class="anchor" id="ga0fa2e185b0bcbac10f995d964a199c65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__update__manager__update.html#ga0fa2e185b0bcbac10f995d964a199c65">update_manager_update_form</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form_state</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build the form for the update manager page to update existing projects.</p>
<p>This presents a table with all projects that have available updates with checkboxes to select which ones to upgrade.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$form</td><td></td></tr>
    <tr><td class="paramname">$form_state</td><td></td></tr>
    <tr><td class="paramname">$context</td><td>String representing the context from which we're trying to update, can be: 'module', 'theme' or 'report'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The form array for selecting which projects to update. </dd></dl>

</div>
</div>
<a class="anchor" id="gaec3a60b324711da2e658cf10d9b85447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__update__manager__update.html#gaec3a60b324711da2e658cf10d9b85447">update_manager_update_form_submit</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Submit function for the main update form.</p>
<p>This sets up a batch to download, extract and verify the selected releases</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__update__manager__update.html#ga0fa2e185b0bcbac10f995d964a199c65">update_manager_update_form()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga578871dbee92e6bcb2f48ba232554c27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__update__manager__update.html#ga578871dbee92e6bcb2f48ba232554c27">update_manager_update_form_validate</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validation callback to ensure that at least one project is selected. </p>

</div>
</div>
<a class="anchor" id="gab1105c1314e1bd8822eef3cb16f78b26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__update__manager__update.html#gab1105c1314e1bd8822eef3cb16f78b26">update_manager_update_ready_form</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build the form when the site is ready to update (after downloading).</p>
<p>This form is an intermediary step in the automated update workflow. It is presented to the site administrator after all the required updates have been downloaded and verified. The point of this page is to encourage the user to backup their site, gives them the opportunity to put the site offline, and then asks them to confirm that the update should continue. After this step, the user is redirected to <a class="el" href="authorize_8php.html">authorize.php</a> to enter their file transfer credentials and attempt to complete the update. </p>

</div>
</div>
<a class="anchor" id="gaeab4690bf95cb0d0b517a0b9161e5045"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__update__manager__update.html#gaeab4690bf95cb0d0b517a0b9161e5045">update_manager_update_ready_form_submit</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Submit handler for the form to confirm that an update should continue.</p>
<p>If the site administrator requested that the site is put offline during the update, do so now. Otherwise, pull information about all the required updates out of the SESSION, figure out what <a class="el" href="class_updater.html">Updater</a> class is needed for each one, generate an array of update operations to perform, and hand it all off to system_authorized_init(), then redirect to <a class="el" href="authorize_8php.html">authorize.php</a>.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="update_8authorize_8inc.html#a640c629480dadbca39814ac8be63e21b">update_authorize_run_update()</a> </dd>
<dd>
system_authorized_init() </dd>
<dd>
system_authorized_get_url() </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:56 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
