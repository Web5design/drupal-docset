<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: PHP wrapper functions</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PHP wrapper functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac7eaf11b49995f7f539f5c830a65b34f"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gac7eaf11b49995f7f539f5c830a65b34f">drupal_register_shutdown_function</a> ($callback=NULL)</td></tr>
<tr class="memitem:gada763092b76d70856870eb3afa2ad265"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gada763092b76d70856870eb3afa2ad265">drupal_http_build_query</a> (array $query, $parent= '')</td></tr>
<tr class="memitem:ga77e7930986edc614b20850a0a281609d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga77e7930986edc614b20850a0a281609d">drupal_parse_url</a> ($<a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url</a>)</td></tr>
<tr class="memitem:ga0507eefd9cd1db602b2184d0fae35097"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga0507eefd9cd1db602b2184d0fae35097">drupal_set_time_limit</a> ($time_limit)</td></tr>
<tr class="memitem:gaf09c80fb758b9f3657772e26817e37b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gaf09c80fb758b9f3657772e26817e37b9">drupal_json_encode</a> ($var)</td></tr>
<tr class="memitem:gae065f2a8115ef999b74d765c8e7f35ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gae065f2a8115ef999b74d765c8e7f35ff">drupal_json_decode</a> ($var)</td></tr>
<tr class="memitem:gad2a800badd2c93efbff2a2905507e685"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gad2a800badd2c93efbff2a2905507e685">drupal_move_uploaded_file</a> ($filename, $uri)</td></tr>
<tr class="memitem:ga5fc93f1c4e81ea4f5b1b32775fca489c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga5fc93f1c4e81ea4f5b1b32775fca489c">drupal_chmod</a> ($uri, $mode=NULL)</td></tr>
<tr class="memitem:ga533bc32da8860919d20d60ada655e494"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga533bc32da8860919d20d60ada655e494">drupal_unlink</a> ($uri, $context=NULL)</td></tr>
<tr class="memitem:gafaa5b186c9e78f53b39aae12633eea44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gafaa5b186c9e78f53b39aae12633eea44">drupal_realpath</a> ($uri)</td></tr>
<tr class="memitem:gad00418a5880c03f43e5eccfaa62863f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gad00418a5880c03f43e5eccfaa62863f6">drupal_dirname</a> ($uri)</td></tr>
<tr class="memitem:ga0125d5e205f50be86146a8df58c2bc5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga0125d5e205f50be86146a8df58c2bc5f">drupal_basename</a> ($uri, $suffix=NULL)</td></tr>
<tr class="memitem:ga0cd03adb94eea525f87fb061c9a33340"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga0cd03adb94eea525f87fb061c9a33340">drupal_mkdir</a> ($uri, $mode=NULL, $recursive=FALSE, $context=NULL)</td></tr>
<tr class="memitem:ga394629431629976febfae765abd63e48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga394629431629976febfae765abd63e48">drupal_rmdir</a> ($uri, $context=NULL)</td></tr>
<tr class="memitem:ga47b9f13fc4bed06501c52d1808de1661"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga47b9f13fc4bed06501c52d1808de1661">drupal_tempnam</a> ($directory, $prefix)</td></tr>
<tr class="memitem:gaef664546ab6308e639e0d6f6b363ae57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gaef664546ab6308e639e0d6f6b363ae57">drupal_session_start</a> ()</td></tr>
<tr class="memitem:ga144f983d31722d56cef8cdf259d2f68f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga144f983d31722d56cef8cdf259d2f68f">drupal_session_regenerate</a> ()</td></tr>
<tr class="memitem:gab0e9cf694d0d48e586c117be348f1e24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gab0e9cf694d0d48e586c117be348f1e24">drupal_xml_parser_create</a> (&amp;$data)</td></tr>
<tr class="memitem:gae8a4670a2f9b1c67d02259a49ee3ec7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gae8a4670a2f9b1c67d02259a49ee3ec7e">drupal_strlen</a> ($text)</td></tr>
<tr class="memitem:ga14c13d4684fa3dbed977bdcbf8f3a5d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga14c13d4684fa3dbed977bdcbf8f3a5d5">drupal_strtoupper</a> ($text)</td></tr>
<tr class="memitem:gad97b9d0b7d26db7c62671e9ddce98f8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gad97b9d0b7d26db7c62671e9ddce98f8f">drupal_strtolower</a> ($text)</td></tr>
<tr class="memitem:ga15c15887a3e78bd69a50439373823517"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#ga15c15887a3e78bd69a50439373823517">drupal_ucfirst</a> ($text)</td></tr>
<tr class="memitem:gabe05f7e9107211f3ad82b564b1d7d598"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__php__wrappers.html#gabe05f7e9107211f3ad82b564b1d7d598">drupal_substr</a> ($text, $start, $length=NULL)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Functions that are wrappers or custom implementations of PHP functions.</p>
<p>Certain PHP functions should not be used in Drupal. Instead, Drupal's replacement functions should be used.</p>
<p>For example, for improved or more secure UTF8-handling, or RFC-compliant handling of URLs in Drupal.</p>
<p>For ease of use and memorizing, all these wrapper functions use the same name as the original PHP function, but prefixed with "drupal_". Beware, however, that not all wrapper functions support the same arguments as the original functions.</p>
<p>You should always use these wrapper functions in your code.</p>
<p>Wrong: </p>
<div class="fragment"><pre class="fragment">   $my_substring = substr($original_string, 0, 5);
</pre></div><p>Correct: </p>
<div class="fragment"><pre class="fragment">   $my_substring = <a class="code" href="group__php__wrappers.html#gabe05f7e9107211f3ad82b564b1d7d598">drupal_substr</a>($original_string, 0, 5);
</pre></div> <hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga0125d5e205f50be86146a8df58c2bc5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga0125d5e205f50be86146a8df58c2bc5f">drupal_basename</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>suffix</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the filename from a given path.</p>
<p>PHP's basename() does not properly support streams or filenames beginning with a non-US-ASCII character.</p>
<dl class="section see"><dt>See also:</dt><dd><a href="http://bugs.php.net/bug.php?id=37738">http://bugs.php.net/bug.php?id=37738</a> </dd>
<dd>
basename() </dd></dl>

</div>
</div>
<a class="anchor" id="ga5fc93f1c4e81ea4f5b1b32775fca489c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga5fc93f1c4e81ea4f5b1b32775fca489c">drupal_chmod</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mode</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the permissions on a file or directory.</p>
<p>This function will use the 'file_chmod_directory' and 'file_chmod_file' variables for the default modes for directories and uploaded/generated files. By default these will give everyone read access so that users accessing the files with a user account without the webserver group (e.g. via FTP) can read these files, and give group write permissions so webserver group members (e.g. a vhost account) can alter files uploaded and owned by the webserver.</p>
<p>PHP's chmod does not support stream wrappers so we use our wrapper implementation which interfaces with chmod() by default. Contrib wrappers may override this behavior in their implementations as needed.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$uri</td><td>A string containing a URI file, or directory path. </td></tr>
    <tr><td class="paramname">$mode</td><td>Integer value for the permissions. Consult PHP chmod() documentation for more information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>TRUE for success, FALSE in the event of an error. </dd></dl>

</div>
</div>
<a class="anchor" id="gad00418a5880c03f43e5eccfaa62863f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gad00418a5880c03f43e5eccfaa62863f6">drupal_dirname</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the name of the directory from a given path.</p>
<p>PHP's dirname() does not properly pass streams, so this function fills that gap. It is backwards compatible with normal paths and will use PHP's dirname() as a fallback.</p>
<p>Compatibility: normal paths and stream wrappers.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$uri</td><td>A URI or path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A string containing the directory name.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd>dirname() </dd>
<dd>
<a href="http://drupal.org/node/515192">http://drupal.org/node/515192</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gada763092b76d70856870eb3afa2ad265"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gada763092b76d70856870eb3afa2ad265">drupal_http_build_query</a> </td>
          <td>(</td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>parent</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parses an array into a valid, rawurlencoded query string.</p>
<p>This differs from http_build_query() as we need to rawurlencode() (instead of urlencode()) all query parameters.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$query</td><td>The query parameter array to be processed, e.g. $_GET. </td></tr>
    <tr><td class="paramname">$parent</td><td>Internal use only. Used to build the $query array key for nested items.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A rawurlencoded string which can be used as or appended to the URL query string.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__http__handling.html#ga2e632373cf469e513c0b6b7095f0e4dd">drupal_get_query_parameters()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gae065f2a8115ef999b74d765c8e7f35ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gae065f2a8115ef999b74d765c8e7f35ff">drupal_json_decode</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts an HTML-safe JSON string into its PHP equivalent.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__php__wrappers.html#gaf09c80fb758b9f3657772e26817e37b9">drupal_json_encode()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaf09c80fb758b9f3657772e26817e37b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gaf09c80fb758b9f3657772e26817e37b9">drupal_json_encode</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts a PHP variable into its JavaScript equivalent.</p>
<p>We use HTML-safe strings, with several characters escaped.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__php__wrappers.html#gae065f2a8115ef999b74d765c8e7f35ff">drupal_json_decode()</a> </dd>
<dd>
<a class="el" href="json-encode_8inc.html#a96f15d8dc7b543c3f7568ed07f592ff3">drupal_json_encode_helper()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga0cd03adb94eea525f87fb061c9a33340"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga0cd03adb94eea525f87fb061c9a33340">drupal_mkdir</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>mode</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>recursive</em> = <code>FALSE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a directory using Drupal's default mode.</p>
<p>PHP's mkdir() does not respect Drupal's default permissions mode. If a mode is not provided, this function will make sure that Drupal's is used.</p>
<p>Compatibility: normal paths and stream wrappers.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$uri</td><td>A URI or pathname. </td></tr>
    <tr><td class="paramname">$mode</td><td>By default the Drupal mode is used. </td></tr>
    <tr><td class="paramname">$recursive</td><td>Default to FALSE. </td></tr>
    <tr><td class="paramname">$context</td><td>Refer to <a href="http://php.net/manual/en/ref.stream.php">http://php.net/manual/en/ref.stream.php</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Boolean TRUE on success, or FALSE on failure.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd>mkdir() </dd>
<dd>
<a href="http://drupal.org/node/515192">http://drupal.org/node/515192</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gad2a800badd2c93efbff2a2905507e685"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gad2a800badd2c93efbff2a2905507e685">drupal_move_uploaded_file</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Moves an uploaded file to a new location.</p>
<p>PHP's move_uploaded_file() does not properly support streams if safe_mode or open_basedir are enabled, so this function fills that gap.</p>
<p>Compatibility: normal paths and stream wrappers.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$filename</td><td>The filename of the uploaded file. </td></tr>
    <tr><td class="paramname">$uri</td><td>A string containing the destination URI of the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>TRUE on success, or FALSE on failure.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd>move_uploaded_file() </dd>
<dd>
<a href="http://drupal.org/node/515192">http://drupal.org/node/515192</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga77e7930986edc614b20850a0a281609d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga77e7930986edc614b20850a0a281609d">drupal_parse_url</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parses a system URL string into an associative array suitable for <a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url()</a>.</p>
<p>This function should only be used for URLs that have been generated by the system, such as via <a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url()</a>. It should not be used for URLs that come from external sources, or URLs that link to external resources.</p>
<p>The returned array contains a 'path' that may be passed separately to <a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url()</a>. For example: </p>
<div class="fragment"><pre class="fragment">   $options = <a class="code" href="group__php__wrappers.html#ga77e7930986edc614b20850a0a281609d">drupal_parse_url</a>($_GET[<span class="stringliteral">&#39;destination&#39;</span>]);
   $my_url = <a class="code" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url</a>($options[<span class="stringliteral">&#39;path&#39;</span>], $options);
   $my_link = <a class="code" href="common_8inc.html#ad3b36c06dc46250b8d22b8d0d2e7bd97">l</a>(<span class="stringliteral">&#39;Example link&#39;</span>, $options[<span class="stringliteral">&#39;path&#39;</span>], $options);
</pre></div><p>This is required, because <a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url()</a> does not support relative URLs containing a query string or fragment in its $path argument. Instead, any query string needs to be parsed into an associative query parameter array in $options['query'] and the fragment into $options['fragment'].</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$url</td><td>The URL string to parse, f.e. $_GET['destination'].</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>An associative array containing the keys:<ul>
<li>'path': The path of the URL. If the given $url is external, this includes the scheme and host.</li>
<li>'query': An array of query parameters of $url, if existent.</li>
<li>'fragment': The fragment of $url, if existent.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="common_8inc.html#a43b2a0594431556db49df980801d8807">url()</a> </dd>
<dd>
<a class="el" href="group__http__handling.html#ga5b68d7a934713d1d623b2b32a732235d">drupal_goto()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gafaa5b186c9e78f53b39aae12633eea44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gafaa5b186c9e78f53b39aae12633eea44">drupal_realpath</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the absolute local filesystem path of a stream URI.</p>
<p>This function was originally written to ease the conversion of 6.x code to use 7.x stream wrappers. However, it assumes that every URI may be resolved to an absolute local filesystem path, and this assumption fails when stream wrappers are used to support remote file storage. Remote stream wrappers may implement the realpath method by always returning FALSE. The use of <a class="el" href="group__php__wrappers.html#gafaa5b186c9e78f53b39aae12633eea44">drupal_realpath()</a> is discouraged, and is slowly being removed from core functions where possible.</p>
<p>Only use this function if you know that the stream wrapper in the URI uses the local file system, and you need to pass an absolute path to a function that is incompatible with stream URIs.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$uri</td><td>A stream wrapper URI or a filesystem path, possibly including one or more symbolic links.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The absolute local filesystem path (with no symbolic links), or FALSE on failure.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>This function is deprecated, and should be removed wherever possible.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="interface_drupal_stream_wrapper_interface.html#adb16cd1ac42f9d7a273546f5cbf0d9d3">DrupalStreamWrapperInterface::realpath()</a> </dd>
<dd>
<a href="http://php.net/manual/function.realpath.php">http://php.net/manual/function.realpath.php</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gac7eaf11b49995f7f539f5c830a65b34f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; <a class="el" href="group__php__wrappers.html#gac7eaf11b49995f7f539f5c830a65b34f">drupal_register_shutdown_function</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>callback</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Registers a function for execution on shutdown.</p>
<p>Wrapper for register_shutdown_function() that catches thrown exceptions to avoid "Exception thrown without a stack frame in Unknown".</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$callback</td><td>The shutdown function to register. </td></tr>
    <tr><td class="paramname">...</td><td>Additional arguments to pass to the shutdown function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Array of shutdown functions to be executed.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd>register_shutdown_function() </dd></dl>

</div>
</div>
<a class="anchor" id="ga394629431629976febfae765abd63e48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga394629431629976febfae765abd63e48">drupal_rmdir</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes a directory.</p>
<p>PHP's rmdir() is broken on Windows, as it can fail to remove a directory when it has a read-only flag set.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$uri</td><td>A URI or pathname. </td></tr>
    <tr><td class="paramname">$context</td><td>Refer to <a href="http://php.net/manual/en/ref.stream.php">http://php.net/manual/en/ref.stream.php</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Boolean TRUE on success, or FALSE on failure.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd>rmdir() </dd></dl>

</div>
</div>
<a class="anchor" id="ga144f983d31722d56cef8cdf259d2f68f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga144f983d31722d56cef8cdf259d2f68f">drupal_session_regenerate</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when an anonymous user becomes authenticated or vice-versa. </p>

</div>
</div>
<a class="anchor" id="gaef664546ab6308e639e0d6f6b363ae57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gaef664546ab6308e639e0d6f6b363ae57">drupal_session_start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Forcefully starts a session, preserving already set session data. </p>

</div>
</div>
<a class="anchor" id="ga0507eefd9cd1db602b2184d0fae35097"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga0507eefd9cd1db602b2184d0fae35097">drupal_set_time_limit</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>time_limit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attempts to set the PHP maximum execution time.</p>
<p>This function is a wrapper around the PHP function set_time_limit(). When called, set_time_limit() restarts the timeout counter from zero. In other words, if the timeout is the default 30 seconds, and 25 seconds into script execution a call such as set_time_limit(20) is made, the script will run for a total of 45 seconds before timing out.</p>
<p>It also means that it is possible to decrease the total time limit if the sum of the new time limit and the current time spent running the script is inferior to the original time limit. It is inherent to the way set_time_limit() works, it should rather be called with an appropriate value every time you need to allocate a certain amount of time to execute a task than only once at the beginning of the script.</p>
<p>Before calling set_time_limit(), we check if this function is available because it could be disabled by the server administrator. We also hide all the errors that could occur when calling set_time_limit(), because it is not possible to reliably ensure that PHP or a security extension will not issue a warning/error if they prevent the use of this function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$time_limit</td><td>An integer specifying the new time limit, in seconds. A value of 0 indicates unlimited execution time. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae8a4670a2f9b1c67d02259a49ee3ec7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gae8a4670a2f9b1c67d02259a49ee3ec7e">drupal_strlen</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Count the amount of characters in a UTF-8 string. This is less than or equal to the byte count. </p>

</div>
</div>
<a class="anchor" id="gad97b9d0b7d26db7c62671e9ddce98f8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gad97b9d0b7d26db7c62671e9ddce98f8f">drupal_strtolower</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Lowercase a UTF-8 string. </p>

</div>
</div>
<a class="anchor" id="ga14c13d4684fa3dbed977bdcbf8f3a5d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga14c13d4684fa3dbed977bdcbf8f3a5d5">drupal_strtoupper</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Uppercase a UTF-8 string. </p>

</div>
</div>
<a class="anchor" id="gabe05f7e9107211f3ad82b564b1d7d598"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gabe05f7e9107211f3ad82b564b1d7d598">drupal_substr</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>length</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cut off a piece of a string based on character indices and counts. Follows the same behavior as PHP's own substr() function.</p>
<p>Note that for cutting off a string at a known character/substring location, the usage of PHP's normal strpos/substr is safe and much faster. </p>

</div>
</div>
<a class="anchor" id="ga47b9f13fc4bed06501c52d1808de1661"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga47b9f13fc4bed06501c52d1808de1661">drupal_tempnam</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a file with a unique filename in the specified directory.</p>
<p>PHP's tempnam() does not return a URI like we want. This function will return a URI if given a URI, or it will return a filepath if given a filepath.</p>
<p>Compatibility: normal paths and stream wrappers.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$directory</td><td>The directory where the temporary filename will be created. </td></tr>
    <tr><td class="paramname">$prefix</td><td>The prefix of the generated temporary filename. Note: Windows uses only the first three characters of prefix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The new temporary filename, or FALSE on failure.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd>tempnam() </dd>
<dd>
<a href="http://drupal.org/node/515192">http://drupal.org/node/515192</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga15c15887a3e78bd69a50439373823517"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga15c15887a3e78bd69a50439373823517">drupal_ucfirst</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Capitalize the first letter of a UTF-8 string. </p>

</div>
</div>
<a class="anchor" id="ga533bc32da8860919d20d60ada655e494"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#ga533bc32da8860919d20d60ada655e494">drupal_unlink</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>context</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deletes a file.</p>
<p>PHP's unlink() is broken on Windows, as it can fail to remove a file when it has a read-only flag set.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$uri</td><td>A URI or pathname. </td></tr>
    <tr><td class="paramname">$context</td><td>Refer to <a href="http://php.net/manual/en/ref.stream.php">http://php.net/manual/en/ref.stream.php</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Boolean TRUE on success, or FALSE on failure.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd>unlink() </dd></dl>

</div>
</div>
<a class="anchor" id="gab0e9cf694d0d48e586c117be348f1e24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__php__wrappers.html#gab0e9cf694d0d48e586c117be348f1e24">drupal_xml_parser_create</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Prepare a new XML parser.</p>
<p>This is a wrapper around xml_parser_create() which extracts the encoding from the XML data first and sets the output encoding to UTF-8. This function should be used instead of xml_parser_create(), because PHP 4's XML parser doesn't check the input encoding itself. "Starting from PHP 5, the input encoding is automatically detected, so that the encoding parameter specifies only the output encoding."</p>
<p>This is also where unsupported encodings will be converted. Callers should take this into account: $data might have been changed after the call.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$data</td><td>The XML data which will be parsed later.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>An XML parser object or FALSE on error. </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:55 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
