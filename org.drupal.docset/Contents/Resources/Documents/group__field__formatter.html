<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: Field Formatter API</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Field Formatter API</div>  </div>
<div class="ingroups"><a class="el" href="group__hooks.html">Hooks</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2f5aa1c7455f55dffd84a48efa57f987"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__field__formatter.html#ga2f5aa1c7455f55dffd84a48efa57f987">hook_field_formatter_info</a> ()</td></tr>
<tr class="memitem:ga42c57fcac0e7a09f757983224136a850"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__field__formatter.html#ga42c57fcac0e7a09f757983224136a850">hook_field_formatter_info_alter</a> (&amp;$info)</td></tr>
<tr class="memitem:ga2c1856869caa776fd9e5db4af4e0b57b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__field__formatter.html#ga2c1856869caa776fd9e5db4af4e0b57b">hook_field_formatter_prepare_view</a> ($entity_type, $entities, $field, $instances, $langcode, &amp;$items, $displays)</td></tr>
<tr class="memitem:gaa588d99481fa147a1c88416e55fdfad6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__field__formatter.html#gaa588d99481fa147a1c88416e55fdfad6">hook_field_formatter_view</a> ($entity_type, $entity, $field, $instance, $langcode, $items, $display)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>End of "defgroup field_widget"</p>
<p>Define Field API formatter types.</p>
<p>Field API formatters specify how fields are displayed when the entity to which the field is attached is displayed. Fields of a given <a class="el" href="group__field__types.html">field type </a> may be displayed using more than one formatter. In this case, the Field UI module allows the site builder to choose which formatter to use. Field formatters are defined by implementing <a class="el" href="group__field__formatter.html#ga2f5aa1c7455f55dffd84a48efa57f987">hook_field_formatter_info()</a>.</p>
<dl class="section see"><dt>See also:</dt><dd>field </dd>
<dd>
<a class="el" href="group__field__types.html">Field Types API</a> </dd>
<dd>
<a class="el" href="group__field__widget.html">Field Widget API</a> </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga2f5aa1c7455f55dffd84a48efa57f987"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__field__formatter.html#ga2f5aa1c7455f55dffd84a48efa57f987">hook_field_formatter_info</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Expose Field API formatter types.</p>
<p>Formatters handle the display of field values. Formatter hooks are typically called by the Field Attach API <a class="el" href="group__field__attach.html#ga8531cd5f033e885a69b555d8521a71a4">field_attach_prepare_view()</a> and <a class="el" href="group__field__attach.html#ga6d5ce721bf25a4ff9e15cbecac0f8cf5">field_attach_view()</a> functions.</p>
<dl class="section return"><dt>Returns:</dt><dd>An array describing the formatter types implemented by the module. The keys are formatter type names. To avoid name clashes, formatter type names should be prefixed with the name of the module that exposes them. The values are arrays describing the formatter type, with the following key/value pairs:<ul>
<li>label: The human-readable name of the formatter type.</li>
<li>description: A short description for the formatter type.</li>
<li>field types: An array of field types the formatter supports.</li>
<li>settings: An array whose keys are the names of the settings available for the formatter type, and whose values are the default values for those settings.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__field__formatter.html#ga42c57fcac0e7a09f757983224136a850">hook_field_formatter_info_alter()</a> </dd>
<dd>
<a class="el" href="group__field__formatter.html#gaa588d99481fa147a1c88416e55fdfad6">hook_field_formatter_view()</a> </dd>
<dd>
<a class="el" href="group__field__formatter.html#ga2c1856869caa776fd9e5db4af4e0b57b">hook_field_formatter_prepare_view()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga42c57fcac0e7a09f757983224136a850"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__field__formatter.html#ga42c57fcac0e7a09f757983224136a850">hook_field_formatter_info_alter</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform alterations on Field API formatter types.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$info</td><td>Array of informations on formatter types exposed by hook_field_field_formatter_info() implementations. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2c1856869caa776fd9e5db4af4e0b57b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__field__formatter.html#ga2c1856869caa776fd9e5db4af4e0b57b">hook_field_formatter_prepare_view</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>entity_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>entities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>instances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>langcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>displays</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allow formatters to load information for field values being displayed.</p>
<p>This should be used when a formatter needs to load additional information from the database in order to render a field, for example a reference field which displays properties of the referenced entities such as name or type.</p>
<p>This hook is called after the field type's own <a class="el" href="group__field__types.html#ga02a3004a67ecba2b81eaa63b05d08cc8">hook_field_prepare_view()</a>.</p>
<p>Unlike most other field hooks, this hook operates on multiple entities. The $entities, $instances and $items parameters are arrays keyed by entity ID. For performance reasons, information for all available entities should be loaded in a single query where possible.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$entity_type</td><td>The type of $entity. </td></tr>
    <tr><td class="paramname">$entities</td><td>Array of entities being displayed, keyed by entity ID. </td></tr>
    <tr><td class="paramname">$field</td><td>The field structure for the operation. </td></tr>
    <tr><td class="paramname">$instances</td><td>Array of instance structures for $field for each entity, keyed by entity ID. </td></tr>
    <tr><td class="paramname">$langcode</td><td>The language the field values are to be shown in. If no language is provided the current language is used. </td></tr>
    <tr><td class="paramname">$items</td><td>Array of field values for the entities, keyed by entity ID. </td></tr>
    <tr><td class="paramname">$displays</td><td>Array of display settings to use for each entity, keyed by entity ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Changes or additions to field values are done by altering the $items parameter by reference. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa588d99481fa147a1c88416e55fdfad6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__field__formatter.html#gaa588d99481fa147a1c88416e55fdfad6">hook_field_formatter_view</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>entity_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>langcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>display</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Build a renderable array for a field value.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$entity_type</td><td>The type of $entity. </td></tr>
    <tr><td class="paramname">$entity</td><td>The entity being displayed. </td></tr>
    <tr><td class="paramname">$field</td><td>The field structure. </td></tr>
    <tr><td class="paramname">$instance</td><td>The field instance. </td></tr>
    <tr><td class="paramname">$langcode</td><td>The language associated with $items. </td></tr>
    <tr><td class="paramname">$items</td><td>Array of values for this field. </td></tr>
    <tr><td class="paramname">$display</td><td>The display settings to use, as found in the 'display' entry of instance definitions. The array notably contains the following keys and values;<ul>
<li>type: The name of the formatter to use.</li>
<li>settings: The array of formatter settings.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A renderable array for the $items, as an array of child elements keyed by numeric indexes starting from 0. </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:56 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
