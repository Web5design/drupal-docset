<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: includes/cache.inc File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">includes/cache.inc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_drupal_cache_interface.html">DrupalCacheInterface</a></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_drupal_database_cache.html">DrupalDatabaseCache</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aebc44cd35cb38b264cf0b07a164ee1af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8inc.html#aebc44cd35cb38b264cf0b07a164ee1af">_cache_get_object</a> ($bin)</td></tr>
<tr class="memitem:a9d873815c28909b61c3a6188b383f8a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8inc.html#a9d873815c28909b61c3a6188b383f8a3">cache_get</a> ($cid, $bin= 'cache')</td></tr>
<tr class="memitem:a2c67628faec5b49aa0fdc987422540d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8inc.html#a2c67628faec5b49aa0fdc987422540d4">cache_get_multiple</a> (array &amp;$cids, $bin= 'cache')</td></tr>
<tr class="memitem:a48081f36334909f561ef4f538fa640d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8inc.html#a48081f36334909f561ef4f538fa640d2">cache_set</a> ($cid, $data, $bin= 'cache', $expire=<a class="el" href="bootstrap_8inc.html#ad987330fff5fa7c75800762ddedf300c">CACHE_PERMANENT</a>)</td></tr>
<tr class="memitem:a409b34dd629640d791a11736a9de8125"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8inc.html#a409b34dd629640d791a11736a9de8125">cache_clear_all</a> ($cid=NULL, $bin=NULL, $wildcard=FALSE)</td></tr>
<tr class="memitem:a859ec549c0cf60273cb094fa42a14604"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8inc.html#a859ec549c0cf60273cb094fa42a14604">cache_is_empty</a> ($bin)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Functions and interfaces for cache handling. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="aebc44cd35cb38b264cf0b07a164ee1af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cache_8inc.html#aebc44cd35cb38b264cf0b07a164ee1af">_cache_get_object</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>bin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the cache object for a cache bin.</p>
<p>By default, this returns an instance of the <a class="el" href="class_drupal_database_cache.html">DrupalDatabaseCache</a> class. Classes implementing <a class="el" href="interface_drupal_cache_interface.html">DrupalCacheInterface</a> can register themselves both as a default implementation and for specific bins.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$bin</td><td>The cache bin for which the cache object should be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="interface_drupal_cache_interface.html">DrupalCacheInterface</a> The cache object associated with the specified bin.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="interface_drupal_cache_interface.html">DrupalCacheInterface</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a409b34dd629640d791a11736a9de8125"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cache_8inc.html#a409b34dd629640d791a11736a9de8125">cache_clear_all</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>cid</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>bin</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>wildcard</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Expires data from the cache.</p>
<p>If called without arguments, expirable entries will be cleared from the cache_page and cache_block bins.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$cid</td><td>If set, the cache ID to delete. Otherwise, all cache entries that can expire are deleted. </td></tr>
    <tr><td class="paramname">$bin</td><td>If set, the cache bin to delete from. Mandatory argument if $cid is set. </td></tr>
    <tr><td class="paramname">$wildcard</td><td>If TRUE, cache IDs starting with $cid are deleted in addition to the exact cache ID specified by $cid. If $wildcard is TRUE and $cid is '*', the entire cache bin is emptied. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9d873815c28909b61c3a6188b383f8a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cache_8inc.html#a9d873815c28909b61c3a6188b383f8a3">cache_get</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>bin</em> = <code>'cache'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns data from the persistent cache.</p>
<p>Data may be stored as either plain text or as serialized data. cache_get will automatically return unserialized objects and arrays.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$cid</td><td>The cache ID of the data to retrieve. </td></tr>
    <tr><td class="paramname">$bin</td><td>The cache bin to store the data in. Valid core values are 'cache_block', 'cache_bootstrap', 'cache_field', 'cache_filter', 'cache_form', 'cache_menu', 'cache_page', 'cache_path', 'cache_update' or 'cache' for the default cache.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The cache or FALSE on failure.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="cache_8inc.html#a48081f36334909f561ef4f538fa640d2">cache_set()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2c67628faec5b49aa0fdc987422540d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cache_8inc.html#a2c67628faec5b49aa0fdc987422540d4">cache_get_multiple</a> </td>
          <td>(</td>
          <td class="paramtype">array &amp;$&#160;</td>
          <td class="paramname"><em>cids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>bin</em> = <code>'cache'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns data from the persistent cache when given an array of cache IDs.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$cids</td><td>An array of cache IDs for the data to retrieve. This is passed by reference, and will have the IDs successfully returned from cache removed. </td></tr>
    <tr><td class="paramname">$bin</td><td>The cache bin where the data is stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>An array of the items successfully returned from cache indexed by cid. </dd></dl>

</div>
</div>
<a class="anchor" id="a859ec549c0cf60273cb094fa42a14604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cache_8inc.html#a859ec549c0cf60273cb094fa42a14604">cache_is_empty</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>bin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if a cache bin is empty.</p>
<p>A cache bin is considered empty if it does not contain any valid data for any cache ID.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$bin</td><td>The cache bin to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>TRUE if the cache bin specified is empty. </dd></dl>

</div>
</div>
<a class="anchor" id="a48081f36334909f561ef4f538fa640d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cache_8inc.html#a48081f36334909f561ef4f538fa640d2">cache_set</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>bin</em> = <code>'cache'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>expire</em> = <code><a class="el" href="bootstrap_8inc.html#ad987330fff5fa7c75800762ddedf300c">CACHE_PERMANENT</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores data in the persistent cache.</p>
<p>The persistent cache is split up into several cache bins. In the default cache implementation, each cache bin corresponds to a database table by the same name. Other implementations might want to store several bins in data structures that get flushed together. While it is not a problem for most cache bins if the entries in them are flushed before their expire time, some might break functionality or are extremely expensive to recalculate. These will be marked with a (*). The other bins expired automatically by core. Contributed modules can add additional bins and get them expired automatically by implementing <a class="el" href="group__hooks.html#ga66531e6e564157b7ca45ed07549c9b97">hook_flush_caches()</a>.</p>
<ul>
<li>cache: Generic cache storage bin (used for variables, theme registry, locale date, list of simpletest tests etc).</li>
</ul>
<ul>
<li>cache_block: Stores the content of various blocks.</li>
</ul>
<ul>
<li>cache field: Stores the field data belonging to a given object.</li>
</ul>
<ul>
<li>cache_filter: Stores filtered pieces of content.</li>
</ul>
<ul>
<li>cache_form(*): Stores multistep forms. Flushing this bin means that some forms displayed to users lose their state and the data already submitted to them.</li>
</ul>
<ul>
<li>cache_menu: Stores the structure of visible navigation menus per page.</li>
</ul>
<ul>
<li>cache_page: Stores generated pages for anonymous users. It is flushed very often, whenever a page changes, at least for every ode and comment submission. This is the only bin affected by the page cache setting on the administrator panel.</li>
</ul>
<ul>
<li>cache path: Stores the system paths that have an alias.</li>
</ul>
<ul>
<li>cache update(*): Stores available releases. The update server (for example, drupal.org) needs to produce the relevant XML for every project installed on the current site. As this is different for (almost) every site, it's very expensive to recalculate for the update server.</li>
</ul>
<p>The reasons for having several bins are as follows:</p>
<ul>
<li>smaller bins mean smaller database tables and allow for faster selects and inserts<ul>
<li>we try to put fast changing cache items and rather static ones into different bins. The effect is that only the fast changing bins will need a lot of writes to disk. The more static bins will also be better cacheable with MySQL's query cache.</li>
</ul>
</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$cid</td><td>The cache ID of the data to store. </td></tr>
    <tr><td class="paramname">$data</td><td>The data to store in the cache. Complex data types will be automatically serialized before insertion. Strings will be stored as plain text and not serialized. </td></tr>
    <tr><td class="paramname">$bin</td><td>The cache bin to store the data in. Valid core values are 'cache_block', 'cache_bootstrap', 'cache_field', 'cache_filter', 'cache_form', 'cache_menu', 'cache_page', 'cache_update' or 'cache' for the default cache. </td></tr>
    <tr><td class="paramname">$expire</td><td>One of the following values:<ul>
<li>CACHE_PERMANENT: Indicates that the item should never be removed unless explicitly told to using <a class="el" href="cache_8inc.html#a409b34dd629640d791a11736a9de8125">cache_clear_all()</a> with a cache ID.</li>
<li>CACHE_TEMPORARY: Indicates that the item should be removed at the next general cache wipe.</li>
<li>A Unix timestamp: Indicates that the item should be kept at least until the given time, after which it behaves like CACHE_TEMPORARY.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="cache_8inc.html#a9d873815c28909b61c3a6188b383f8a3">cache_get()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:54 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
